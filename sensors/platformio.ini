[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
lib_deps = 
    WiFi
    HTTPClient
monitor_speed = 115200
board_build.f_cpu = 80000000L
board_build.f_flash = 40000000L
board_build.flash_mode = dout
upload_resetmethod = nodemcu
upload_flags = 
    --before=default_reset
    --after=hard_reset

[env:esp32c3]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
lib_deps = 
    WiFi
    HTTPClient
monitor_speed = 115200
board_build.f_cpu = 160000000L
board_build.f_flash = 40000000L
board_build.flash_mode = dout
upload_resetmethod = nodemcu
upload_flags = 
    --before=default_reset
    --after=hard_reset

; ESP-NOW Battery Transmitter (Ultra Low Power)
[env:battery_transmitter]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
src_filter = +<battery_transmitter.cpp>
lib_deps = 
    WiFi
    ESP32 ESP-NOW
monitor_speed = 115200
board_build.f_cpu = 80000000L        ; Low CPU frequency for power savings
board_build.f_flash = 40000000L
board_build.flash_mode = dout
build_flags = 
    -DCORE_DEBUG_LEVEL=1             ; Minimal debug output
    -DCONFIG_ESP32_WIFI_AMPDU_TX_ENABLED=0  ; Disable WiFi aggregation
    -DCONFIG_ESP32_WIFI_AMPDU_RX_ENABLED=0
upload_resetmethod = nodemcu

; ESP-NOW Receiver (Mains Powered)
[env:espnow_receiver]
platform = espressif32
board = esp32dev
framework = arduino
src_filter = +<espnow_receiver.cpp>
lib_deps = 
    WiFi
    HTTPClient
    ESP32 ESP-NOW
    ArduinoJson
monitor_speed = 115200
board_build.f_cpu = 240000000L       ; Full speed for receiver
board_build.f_flash = 40000000L
board_build.flash_mode = dout

; Recovery/Debug Transmitter (No Deep Sleep)
[env:recovery_transmitter]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
src_filter = +<recovery_transmitter.cpp>
lib_deps = 
    WiFi
    ESP32 ESP-NOW
monitor_speed = 115200
board_build.f_cpu = 160000000L       ; Full speed for debugging
board_build.f_flash = 40000000L
board_build.flash_mode = dout

; Original WiFi Version (for comparison)
[env:wifi_original]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
src_filter = +<main.cpp>
lib_deps = 
    WiFi
    HTTPClient
monitor_speed = 115200
board_build.f_cpu = 80000000L
board_build.f_flash = 40000000L
board_build.flash_mode = dout
